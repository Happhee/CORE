{"ast":null,"code":"import _toConsumableArray from\"/Users/hongseohee/core-client-aws/CORE/core/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _slicedToArray from\"/Users/hongseohee/core-client-aws/CORE/core/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";/*eslint-disable */import React,{Component,useEffect,useState}from'react';import{makeStyles}from'@material-ui/core/styles';import KakaoShare from'./KakaoShare';import{Button,styled}from'@mui/material';import'../css/Student.css';import{RoundedCorner}from'@material-ui/icons';import{color,fontWeight}from'@mui/system';import DeleteModal from'./DeleteModal';import{withRouter}from\"react-router\";import{getStudentlist}from'../../_actions/teacher_action';import{getUser}from'../../_actions/user_action';import{useDispatch}from'react-redux';import queryString from'query-string';import{useLocation}from'react-router-dom';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var AddStudent=styled(Button)({marginLeft:'87%',padding:'0.8%',textAlign:'center',backgroundColor:'#692498',borderRadius:'10px',color:'#fff',fontFamily:'esamanruLight',fontWeight:'normal','&:hover':{background:\"#E0BFE6\",color:\"#8154A0\"}});function Student(_ref){var match=_ref.match;var dispatch=useDispatch();var _useState=useState([]),_useState2=_slicedToArray(_useState,2),userlist=_useState2[0],setUserlist=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),boards=_useState4[0],setBoards=_useState4[1];var _match$params=match.params,mode=_match$params.mode,userId=_match$params.userId,classId=_match$params.classId,title=_match$params.title;useEffect(function(){//강의실에서 아이디 가져오고\ndispatch(getStudentlist(classId)).then(function(res){if(res.payload.getUserSucess){setUserlist(res.payload.data);}});console.log(\"학생리스트 가져오기\");},[]);var board_list=[];useEffect(function(){var board=[];console.log(userlist);userlist.map(function(user,index){dispatch(getUser(user)).then(function(res){if(res.payload.getSuccess){board.push({brdno:index,nick:res.payload.data.nick,name:res.payload.data.name,phone:res.payload.data.phone,affiliation:res.payload.data.affiliation});}setBoards([].concat(_toConsumableArray(boards),[board]));});});},[userlist]);//학생 초대 카카오 API\nuseEffect(function(){if(!window.Kakao.isInitialized()){window.Kakao.init('d1a90c494e1cdb68196c4145544ffac1');}window.Kakao.Link.createDefaultButton({container:'#kakao-link-btn',objectType:'feed',content:{title:'학생 초대',description:'여기 링크~!~!',imageUrl:'http://mud-kage.kakao.co.kr/dn/Q2iNx/btqgeRgV54P/VLdBs9cvyn8BJXB3o7N8UK/kakaolink40_original.png',link:{mobileWebUrl:'https://cheonmro.github.io/',webUrl:'https://cheonmro.github.io/'}},social:{likeCount:286,commentCount:45,sharedCount:845},buttons:[{title:'웹으로 보기',link:{mobileWebUrl:'https://cheonmro.github.io/',webUrl:'https://cheonmro.github.io/'}},{title:'앱으로 보기',link:{mobileWebUrl:'https://cheonmro.github.io/',webUrl:'https://cheonmro.github.io/'}}]});},[]);if(boards.length==1){board_list.push(boards[0].map(function(row){return/*#__PURE__*/_jsx(BoardItem,{row:row},row.brdno);}));}return/*#__PURE__*/_jsxs(\"div\",{className:\"main_div\",children:[/*#__PURE__*/_jsx(\"h2\",{style:{width:'85%',margin:'20px auto',marginTop:'0px'},children:\"Student\"}),/*#__PURE__*/_jsx(\"div\",{style:{width:'85%',margin:'20px auto'},children:/*#__PURE__*/_jsx(\"table\",{border:\"1\",children:/*#__PURE__*/_jsxs(\"tbody\",{children:[/*#__PURE__*/_jsxs(\"tr\",{style:{fontFamily:'esamanru',fontWeight:'bold',height:'50px'},align:\"center\",children:[/*#__PURE__*/_jsx(\"td\",{width:\"100\",children:\"No\"}),/*#__PURE__*/_jsx(\"td\",{width:\"200\",children:\"\\uC544\\uC774\\uB514\"}),/*#__PURE__*/_jsx(\"td\",{width:\"200\",children:\"\\uC774\\uB984\"}),/*#__PURE__*/_jsx(\"td\",{width:\"400\",children:\"\\uC804\\uD654\\uBC88\\uD638\"}),/*#__PURE__*/_jsx(\"td\",{width:\"200\",children:\"\\uC18C\\uC18D\"}),/*#__PURE__*/_jsx(\"td\",{width:\"50\",children:\"\\uC0AD\\uC81C\"})]}),board_list]})})}),/*#__PURE__*/_jsx(\"div\",{className:\"Kakao\",children:/*#__PURE__*/_jsx(\"a\",{id:\"kakao-link-btn\",href:\"javascript:;\",style:{textDecoration:'none'},children:/*#__PURE__*/_jsx(AddStudent,{children:\"\\uD559\\uC0DD \\uCD08\\uB300\"})})})]});}export default withRouter(Student);function BoardItem(props){return/*#__PURE__*/_jsxs(\"tr\",{align:\"center\",style:{height:'60px'},children:[/*#__PURE__*/_jsx(\"td\",{children:props.row.brdno}),/*#__PURE__*/_jsx(\"td\",{children:props.row.nick}),/*#__PURE__*/_jsx(\"td\",{children:props.row.name}),/*#__PURE__*/_jsx(\"td\",{children:props.row.phone}),/*#__PURE__*/_jsx(\"td\",{children:props.row.affiliation}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(DeleteModal,{})})]});}","map":{"version":3,"sources":["/Users/hongseohee/core-client-aws/CORE/core/src/teacher/components/Student.js"],"names":["React","Component","useEffect","useState","makeStyles","KakaoShare","Button","styled","RoundedCorner","color","fontWeight","DeleteModal","withRouter","getStudentlist","getUser","useDispatch","queryString","useLocation","AddStudent","marginLeft","padding","textAlign","backgroundColor","borderRadius","fontFamily","background","Student","match","dispatch","userlist","setUserlist","boards","setBoards","params","mode","userId","classId","title","then","res","payload","getUserSucess","data","console","log","board_list","board","map","user","index","getSuccess","push","brdno","nick","name","phone","affiliation","window","Kakao","isInitialized","init","Link","createDefaultButton","container","objectType","content","description","imageUrl","link","mobileWebUrl","webUrl","social","likeCount","commentCount","sharedCount","buttons","length","row","width","margin","marginTop","height","textDecoration","BoardItem","props"],"mappings":"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","sourcesContent":["/*eslint-disable */\n\nimport React, { Component, useEffect, useState } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport KakaoShare from './KakaoShare';\nimport { Button, styled } from '@mui/material';\nimport '../css/Student.css'\nimport { RoundedCorner } from '@material-ui/icons';\nimport { color, fontWeight } from '@mui/system';\nimport DeleteModal from './DeleteModal';\n\nimport { withRouter } from \"react-router\";\nimport { getStudentlist } from '../../_actions/teacher_action';\nimport { getUser } from '../../_actions/user_action';\nimport { useDispatch } from 'react-redux';\nimport queryString from 'query-string'\nimport { useLocation } from 'react-router-dom';\n\nconst AddStudent = styled(Button)({\n    marginLeft: '87%',\n    padding: '0.8%',\n    textAlign: 'center',\n    backgroundColor: '#692498',\n    borderRadius: '10px',\n    color: '#fff',\n    fontFamily: 'esamanruLight',\n    fontWeight: 'normal',\n    '&:hover': {\n        background: \"#E0BFE6\",\n        color: \"#8154A0\"\n    }\n});\n\n\nfunction Student({ match }) {\n    const dispatch = useDispatch();\n\n    const [userlist, setUserlist] = useState([]);\n    const [boards, setBoards] = useState([]);\n    const { mode, userId, classId, title } = match.params;\n\n\n    useEffect(() => {\n        //강의실에서 아이디 가져오고\n        dispatch(getStudentlist(classId))\n            .then(res => {\n                if (res.payload.getUserSucess) {\n                    setUserlist(res.payload.data);\n                }\n            })\n        console.log(\"학생리스트 가져오기\");\n\n    }, [])\n    const board_list = [];\n\n    useEffect(() => {\n        const board = [];\n\n        console.log(userlist);\n\n        userlist.map((user, index) => {\n            dispatch(getUser(user))\n                .then(res => {\n                    if (res.payload.getSuccess) {\n                        board.push(\n                            {\n                                brdno: index,\n                                nick: res.payload.data.nick,\n                                name: res.payload.data.name,\n                                phone: res.payload.data.phone,\n                                affiliation: res.payload.data.affiliation\n                            }\n                        )\n                    }\n                    setBoards([...boards, board]);\n\n                })\n\n\n        })\n\n\n\n\n    }, [userlist])\n\n\n    //학생 초대 카카오 API\n    useEffect(() => {\n        if (!window.Kakao.isInitialized()) {\n            window.Kakao.init('d1a90c494e1cdb68196c4145544ffac1');\n        }\n        window.Kakao.Link.createDefaultButton({\n            container: '#kakao-link-btn',\n            objectType: 'feed',\n            content: {\n                title: '학생 초대',\n                description: '여기 링크~!~!',\n                imageUrl: 'http://mud-kage.kakao.co.kr/dn/Q2iNx/btqgeRgV54P/VLdBs9cvyn8BJXB3o7N8UK/kakaolink40_original.png',\n                link: {\n                    mobileWebUrl: 'https://cheonmro.github.io/',\n                    webUrl: 'https://cheonmro.github.io/'\n                }\n            },\n            social: {\n                likeCount: 286,\n                commentCount: 45,\n                sharedCount: 845\n            },\n            buttons: [\n                {\n                    title: '웹으로 보기',\n                    link: {\n                        mobileWebUrl: 'https://cheonmro.github.io/',\n                        webUrl: 'https://cheonmro.github.io/'\n                    }\n                },\n                {\n                    title: '앱으로 보기',\n                    link: {\n                        mobileWebUrl: 'https://cheonmro.github.io/',\n                        webUrl: 'https://cheonmro.github.io/'\n                    }\n                }\n            ]\n        });\n    }, [])\n\n    if (boards.length == 1) {\n        board_list.push(boards[0].map(row =>\n            (<BoardItem key={row.brdno} row={row} />)))\n    }\n\n\n    return (\n        <div className=\"main_div\">\n            <h2 style={{ width: '85%', margin: '20px auto', marginTop: '0px' }}>Student</h2>\n            <div style={{ width: '85%', margin: '20px auto' }}>\n                <table border=\"1\" >\n                    <tbody>\n                        <tr style={{ fontFamily: 'esamanru', fontWeight: 'bold', height: '50px' }} align=\"center\" >\n                            <td width=\"100\">No</td>\n                            <td width=\"200\">아이디</td>\n                            <td width=\"200\">이름</td>\n                            <td width=\"400\">전화번호</td>\n                            <td width=\"200\">소속</td>\n                            <td width=\"50\">삭제</td>\n                        </tr>\n                        {board_list}\n                    </tbody>\n                </table >\n\n            </div>\n            <div className=\"Kakao\">\n                <a id=\"kakao-link-btn\" href=\"javascript:;\" style={{ textDecoration: 'none' }}>\n                    <AddStudent>학생 초대</AddStudent>\n                </a>\n            </div>\n        </div >\n    );\n\n}\n\n\nexport default withRouter(Student);\n\nfunction BoardItem(props) {\n\n\n    return (\n        <tr align=\"center\" style={{ height: '60px' }}>\n            <td>{props.row.brdno}</td>\n            <td>{props.row.nick}</td>\n            <td>{props.row.name}</td>\n            <td>{props.row.phone}</td>\n            <td>{props.row.affiliation}</td>\n            <td><DeleteModal></DeleteModal></td>\n        </tr>\n    );\n\n}"]},"metadata":{},"sourceType":"module"}