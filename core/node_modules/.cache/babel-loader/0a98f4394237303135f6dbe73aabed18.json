{"ast":null,"code":"import _objectSpread from\"/Users/hongseohee/core-client-aws/CORE/core/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _toConsumableArray from\"/Users/hongseohee/core-client-aws/CORE/core/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _slicedToArray from\"/Users/hongseohee/core-client-aws/CORE/core/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";/*eslint-disable */import React,{useEffect,useState}from'react';import{ReactComponent as Core_Logo}from\"@svgr/webpack?-svgo,+titleProp,+ref!../css/Core.svg\";import'../css/SignUp.css';import Toolbar from'./Toolbar';import CssTextField from'../css/CssTextField';import Checkbox from'@mui/material/Checkbox';import AlertDialog from'./AlertDialog';import CssButton from'../css/CssButton';import{Button,styled}from'@mui/material';import{BrowserRouter as useHistory,withRouter}from'react-router-dom';import*as InputVaildation from'./InputValidation';import{useDispatch}from'react-redux';import{registerUser}from'../_actions/user_action';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var label={inputProps:{'aria-label':'Checkbox demo'}};var CssBtn=styled(Button)({marginLeft:'0px',marginTop:\"-20px\",textAlign:'center',backgroundColor:'#692498',borderRadius:'30px',color:'#fff',fontWeight:'bold','&:hover':{background:\"#E0BFE6\",color:\"#FFF\"}});function SignUp(props){console.log('회원가입렌더');var dispatch=useDispatch();var toolbar=[{id:1,title:'Login',link:'/'},{id:2,title:'Sign Up',link:'/signup'}];var _useState=useState([{id:1,value:\"선생님\",checked:false},{id:2,value:\"학생\",checked:false}]),_useState2=_slicedToArray(_useState,2),data=_useState2[0],setData=_useState2[1];var _useState3=useState(),_useState4=_slicedToArray(_useState3,2),signup_state=_useState4[0],setSignup_state=_useState4[1];var _useState5=useState([{id:\"1\",title:\"ID\",value:\"\"},{id:\"2\",title:\"PW\",value:\"\"},{id:\"3\",title:\"이름\",value:\"\"},{id:\"4\",title:\"전화번호\",value:\"\"},{id:\"5\",title:\"소속\",value:\"\"}]),_useState6=_slicedToArray(_useState5,2),signup_data=_useState6[0],setSignup_data=_useState6[1];var _useState7=useState([]),_useState8=_slicedToArray(_useState7,2),helperText_data=_useState8[0],setHelperText_data=_useState8[1];function mode(){if(data[0].checked===true)return 0;else return 1;}function handleSignup(event){var partType=mode();console.log(partType);var body={nick:signup_data[0].value,password:signup_data[1].value,name:signup_data[2].value,phone:signup_data[3].value,affiliation:signup_data[4].value,role:partType};console.log(body);dispatch(registerUser(body)).then(function(res){if(res.payload.registerSuccess){alert('회원가입이 완료되었습니다!');props.history.goBack();}else{console.log(res.payload);alert(res.payload.message);}}).catch(function(err){console.log(err);});}var handleInputChange=function handleInputChange(event){var _event$target=event.target,value=_event$target.value,name=_event$target.name;setSignup_data(InputVaildation.newTextfieldValue(signup_data,value,name));};//체크박스 하나만 선택할수 있게 만들기\nfunction onChange(e){var newData=_toConsumableArray(data);if(e.target.value=='선생님'){newData[0].checked=true;newData[1].checked=false;setData(newData);}else{newData[0].checked=false;newData[1].checked=true;setData(newData);}}useEffect(function(){setHelperText_data(InputVaildation.isRegex(signup_data,helperText_data));},[signup_data],[]);return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Toolbar,{data:toolbar}),/*#__PURE__*/_jsxs(\"div\",{className:\"signup_box\",children:[/*#__PURE__*/_jsx(\"img\",{style:{width:\"200px\",marginTop:\"3%\",marginBottom:\"-2px\",float:\"left\"},src:require('../image/icon_BigLogo.png').default}),/*#__PURE__*/_jsxs(\"div\",{className:\"signup_content\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"title_box\",children:/*#__PURE__*/_jsx(\"span\",{children:\"\\uD68C\\uC6D0\\uAC00\\uC785\"})}),/*#__PURE__*/_jsxs(\"span\",{className:\"signup_text\",children:[\" \",signup_data[0].title,\" \"]}),/*#__PURE__*/_jsx(CssTextField,{className:\"signup_input_box\",size:\"small\",variant:\"outlined\",id:\"custom-css-outlined-input1\",maxRows:1,name:signup_data[0].id,value:signup_data[0].value,onChange:handleInputChange,helperText:helperText_data[0]}),/*#__PURE__*/_jsxs(\"span\",{className:\"signup_text\",children:[\" \",signup_data[1].title,\" \"]}),/*#__PURE__*/_jsx(CssTextField,{className:\"signup_input_box\",type:\"password\",size:\"small\",variant:\"outlined\",id:\"custom-css-outlined-input2\",maxRows:1,name:signup_data[1].id,value:signup_data[1].value,onChange:handleInputChange,helperText:helperText_data[1]}),/*#__PURE__*/_jsxs(\"span\",{className:\"signup_text\",children:[\" \",signup_data[2].title,\" \"]}),/*#__PURE__*/_jsx(CssTextField,{className:\"signup_input_box\",size:\"small\",variant:\"outlined\",id:\"custom-css-outlined-input3\",maxRows:1,name:signup_data[2].id,value:signup_data[2].value,onChange:handleInputChange,helperText:helperText_data[2]}),/*#__PURE__*/_jsxs(\"span\",{className:\"signup_text\",children:[\" \",signup_data[3].title,\" \"]}),/*#__PURE__*/_jsx(CssTextField,{className:\"signup_input_box\",size:\"small\",variant:\"outlined\",id:\"custom-css-outlined-input4\",maxRows:1,name:signup_data[3].id,value:signup_data[3].value,onChange:handleInputChange,helperText:helperText_data[3]}),/*#__PURE__*/_jsxs(\"span\",{className:\"signup_text\",children:[\" \",signup_data[4].title,\" \"]}),/*#__PURE__*/_jsx(CssTextField,{className:\"signup_input_box\",size:\"small\",variant:\"outlined\",id:\"custom-css-outlined-input5\",maxRows:1,name:signup_data[4].id,value:signup_data[4].value,onChange:handleInputChange,helperText:helperText_data[4]}),/*#__PURE__*/_jsxs(\"div\",{className:\"check_box\",children:[/*#__PURE__*/_jsx(Checkbox,_objectSpread(_objectSpread({},label),{},{checked:data[0].checked,value:data[0].value,onChange:onChange})),/*#__PURE__*/_jsx(\"span\",{className:\"check_box_span\",children:data[0].value}),/*#__PURE__*/_jsx(Checkbox,_objectSpread(_objectSpread({},label),{},{checked:data[1].checked,value:data[1].value,onChange:onChange})),/*#__PURE__*/_jsx(\"span\",{className:\"check_box_span\",children:data[1].value})]}),/*#__PURE__*/_jsx(\"div\",{className:\"signup_success_box\",children:/*#__PURE__*/_jsx(CssBtn,{variant:\"contained\",color:\"secondary\",onClick:handleSignup,children:\"SIGN UP\"})})]})]})]});}export default withRouter(SignUp);","map":{"version":3,"sources":["/Users/hongseohee/core-client-aws/CORE/core/src/components/SignUp.js"],"names":["React","useEffect","useState","Toolbar","CssTextField","Checkbox","AlertDialog","CssButton","Button","styled","BrowserRouter","useHistory","withRouter","InputVaildation","useDispatch","registerUser","label","inputProps","CssBtn","marginLeft","marginTop","textAlign","backgroundColor","borderRadius","color","fontWeight","background","SignUp","props","console","log","dispatch","toolbar","id","title","link","value","checked","data","setData","signup_state","setSignup_state","signup_data","setSignup_data","helperText_data","setHelperText_data","mode","handleSignup","event","partType","body","nick","password","name","phone","affiliation","role","then","res","payload","registerSuccess","alert","history","goBack","message","catch","err","handleInputChange","target","newTextfieldValue","onChange","e","newData","isRegex","width","marginBottom","float","require","default"],"mappings":"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","sourcesContent":["/*eslint-disable */\nimport React, { useEffect, useState } from 'react';\nimport { ReactComponent as Core_Logo } from '../css/Core.svg';\nimport '../css/SignUp.css';\nimport Toolbar from './Toolbar';\nimport CssTextField from '../css/CssTextField';\nimport Checkbox from '@mui/material/Checkbox';\nimport AlertDialog from './AlertDialog';\nimport CssButton from '../css/CssButton';\nimport { Button, styled } from '@mui/material';\n\nimport { BrowserRouter as useHistory, withRouter } from 'react-router-dom';\n\n\nimport *as InputVaildation from './InputValidation'\n\nimport { useDispatch } from 'react-redux'\nimport { registerUser } from '../_actions/user_action'\n\nconst label = { inputProps: { 'aria-label': 'Checkbox demo' } };\n\nconst CssBtn = styled(Button)({\n    marginLeft: '0px',\n    marginTop: \"-20px\",\n    textAlign: 'center',\n    backgroundColor: '#692498',\n    borderRadius: '30px',\n    color: '#fff',\n    fontWeight: 'bold',\n    '&:hover': {\n        background: \"#E0BFE6\",\n        color: \"#FFF\"\n    }\n});\nfunction SignUp(props) {\n    console.log('회원가입렌더');\n    const dispatch = useDispatch();\n    let toolbar = [\n        { id: 1, title: 'Login', link: '/' },\n        { id: 2, title: 'Sign Up', link: '/signup' }];\n    let [data, setData] = useState([\n        { id: 1, value: \"선생님\", checked: false },\n        { id: 2, value: \"학생\", checked: false }]);\n    let [signup_state, setSignup_state] = useState();\n    let [signup_data, setSignup_data] = useState([\n        { id: \"1\", title: \"ID\", value: \"\" },\n        { id: \"2\", title: \"PW\", value: \"\" },\n        { id: \"3\", title: \"이름\", value: \"\" },\n        { id: \"4\", title: \"전화번호\", value: \"\" },\n        { id: \"5\", title: \"소속\", value: \"\" }\n    ])\n    let [helperText_data, setHelperText_data] = useState([])\n    function mode() {\n        if (data[0].checked === true)\n            return 0;\n        else\n            return 1;\n    }\n    function handleSignup(event) {\n        let partType = mode();\n        console.log(partType)\n\n\n        let body = {\n            nick: signup_data[0].value,\n            password: signup_data[1].value,\n            name: signup_data[2].value,\n            phone: signup_data[3].value,\n            affiliation: signup_data[4].value,\n            role: partType\n        }\n\n        console.log(body);\n        dispatch(registerUser(body))\n            .then(res => {\n                if (res.payload.registerSuccess) {\n                    alert('회원가입이 완료되었습니다!')\n                    props.history.goBack();\n                } else {\n                    console.log(res.payload);\n                    alert(res.payload.message)\n                }\n            }).catch((err) => {\n                console.log(err);\n            });\n    }\n    const handleInputChange = (event) => {\n        const { value, name } = event.target;\n        setSignup_data(InputVaildation.newTextfieldValue(signup_data, value, name));\n    }\n    //체크박스 하나만 선택할수 있게 만들기\n    function onChange(e) {\n        var newData = [...data];\n        if (e.target.value == '선생님') {\n\n            newData[0].checked = true;\n            newData[1].checked = false;\n            setData(newData);\n\n        } else {\n            newData[0].checked = false;\n            newData[1].checked = true;\n            setData(newData);\n\n        }\n    }\n\n    useEffect(() => {\n\n        setHelperText_data(InputVaildation.isRegex(signup_data, helperText_data));\n    }, [signup_data], [])\n\n\n\n    return (\n        <div>\n            <Toolbar data={toolbar} />\n\n            <div className=\"signup_box\">\n                <img style={{ width: \"200px\", marginTop: \"3%\", marginBottom: \"-2px\", float: \"left\" }} src={require('../image/icon_BigLogo.png').default} />\n                <div className=\"signup_content\">\n                    {/* 회원가입 타이틀  */}\n                    {/* <div className=\"signup_sub_div\">\n\n                    </div> */}\n                    <div className=\"title_box\">\n                        <span>회원가입</span>\n                    </div>\n\n                    <span className=\"signup_text\"> {signup_data[0].title} </span>\n                    <CssTextField className=\"signup_input_box\" size=\"small\" variant=\"outlined\" id=\"custom-css-outlined-input1\" maxRows={1}\n                        name={signup_data[0].id} value={signup_data[0].value} onChange={handleInputChange}\n                        helperText={helperText_data[0]} />\n\n                    <span className=\"signup_text\"> {signup_data[1].title} </span>\n                    <CssTextField className=\"signup_input_box\" type=\"password\" size=\"small\" variant=\"outlined\" id=\"custom-css-outlined-input2\" maxRows={1}\n                        name={signup_data[1].id} value={signup_data[1].value} onChange={handleInputChange}\n                        helperText={helperText_data[1]} />\n\n                    <span className=\"signup_text\"> {signup_data[2].title} </span>\n                    <CssTextField className=\"signup_input_box\" size=\"small\" variant=\"outlined\" id=\"custom-css-outlined-input3\" maxRows={1}\n                        name={signup_data[2].id} value={signup_data[2].value} onChange={handleInputChange}\n                        helperText={helperText_data[2]} />\n\n                    <span className=\"signup_text\"> {signup_data[3].title} </span>\n                    <CssTextField className=\"signup_input_box\" size=\"small\" variant=\"outlined\" id=\"custom-css-outlined-input4\" maxRows={1}\n                        name={signup_data[3].id} value={signup_data[3].value} onChange={handleInputChange}\n                        helperText={helperText_data[3]} />\n\n                    <span className=\"signup_text\"> {signup_data[4].title} </span>\n                    <CssTextField className=\"signup_input_box\" size=\"small\" variant=\"outlined\" id=\"custom-css-outlined-input5\" maxRows={1}\n                        name={signup_data[4].id} value={signup_data[4].value} onChange={handleInputChange}\n                        helperText={helperText_data[4]} />\n\n                    {/* 선생님/학생 */}\n                    <div className=\"check_box\">\n\n                        <Checkbox {...label} checked={data[0].checked}\n                            value={data[0].value} onChange={onChange} />\n                        <span className=\"check_box_span\">{data[0].value}</span>\n\n                        <Checkbox {...label} checked={data[1].checked}\n                            value={data[1].value} onChange={onChange} />\n                        <span className=\"check_box_span\">{data[1].value}</span>\n\n                    </div>\n\n                    <div className=\"signup_success_box\">\n                        {/* <AlertDialog alertDialog_title=\"SIGN UP\" textfield_state={signup_state} handleSignup={handleSignup} goLogin={goLogin} /> */}\n                        <CssBtn variant=\"contained\" color=\"secondary\" onClick={handleSignup} >SIGN UP</CssBtn>\n                    </div>\n                </div>\n            </div>\n        </div>\n    );\n\n}\n\nexport default withRouter(SignUp);"]},"metadata":{},"sourceType":"module"}